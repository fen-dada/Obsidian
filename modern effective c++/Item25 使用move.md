考虑以下代码：
```cpp
Widget makeWidget()                 //makeWidget的“拷贝”版本
{
    Widget w;                       //局部对象
    …                               //配置w
    return w;                       //“拷贝”w到返回值中
}
```
c++标准会执行返回值优化，当满足1）局部对象与函数返回值的类型相同；（2）局部对象就是要返回的东西时，执行返回值优化，直接在返回值的内存空间创建Widget对象。

如果认为优化
```cpp
Widget makeWidget()
{
    Widget w;
    …
    return std::move(w);            //把w看成右值，因为不执行拷贝消除
}
```
反而不会满足返回值优化。

c++标准在满足条件时应用返回值优化（拷贝消除），不满足时当作右值引用。所以不必认为做返回值优化。

**请记住：**

- 最后一次使用时，在右值引用上使用`std::move`，在通用引用上使用`std::forward`。
- 对按值返回的函数要返回的右值引用和通用引用，执行相同的操作。
- 如果局部对象可以被返回值优化消除，就绝不使用`std::move`或者`std::forward`。