主要是建立最长公共前后缀的数组，i指向当前匹配的后缀的末尾，j指向前缀的末尾，每次预判下一个j是否与当前i匹配，如果不匹配j就要跳转到当前前缀的最长公共前缀上，因为既然上一次匹配了前后缀，就说明i和j前面一段的字符串都相等，这个时候再找这个字符串的前后缀相当于最大化保留了i已经搜索的部分。
```cpp
for(int i=1,j=0;i<n;++i){
	while(j!=0 && t[i]!=t[j+1]) j=ne[j-1];
	if(t[i]==t[j]) j++;
	ne[i]=j;
}
for(int i=0,j=0;i<m;++i){
	while(j!=0 && s[i]!=t[j]) j=ne[j-1];
	if(s[i]==t[j]) j++;
	if(j==n-1){
		cout<<i-n+2<<endl;
		j=ne[j];
	}
}
```