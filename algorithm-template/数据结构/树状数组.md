```cpp
struct BIT {
    int n;
    std::vector<i64> c;
    explicit BIT(int n): n(n + 1), c(n + 2, 0) {}
 
    i64 query(int x) {
        x ++;
        assert(x <= n);
        i64 s = 0;
        for (; x; x -= (x & -x))
            s += c[x];
        return s;
    }
 
    i64 query(int l, int r) {
        return query(r) - query(l - 1);
    }
 
    void modify(int x, i64 k) {
        x ++;
        assert(x != 0);
        for (; x <= n; x += (x & -x))
            c[x] += k;
    }
 
    void modify(int l, int r, i64 k) {
        modify(l, k);
        if (r + 1 <= n) modify(r + 1, -k);
    }
};
```

```cpp
template<class T>
struct BIT {
    T c[N];
    int size;
    void resize(int s) {
        size = s;
        for (int i = 0; i <= size; i ++)
            c[i] = 0;
    }
 
    T query(int x) {
        assert(x <= size);
        T s = 0;
        for (; x; x -= (x & -x))
            s += c[x];
        return s;
    }
 
    T query(int l, int r) {
        return query(r) - query(l - 1);
    }
 
    void modify(int x, T k) {
        assert(x != 0);
        for (; x <= size; x += (x & -x))
            c[x] += k;
    }
 
    void modify(int l, int r, T k) {
        modify(l, k);
        if (r + 1 <= size) modify(r + 1, -k);
    }
};
```